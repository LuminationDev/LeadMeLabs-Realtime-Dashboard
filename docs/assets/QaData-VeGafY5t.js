import{h as k,c as h,y as e,k as a,l as s,t as y,A as C,q as b,s as m,r as _,F as g,B as w,C as $,m as I,v as q,D as N,j as O}from"./index-XzKpXIOl.js";const F={class:"bg-gray-100 rounded-lg shadow-sm p-2"},Q={class:"text-sm"},D={class:"flex flex-col mt-1"},V={key:0,class:"text-xs"},B={class:"text-xs"},L=k({__name:"QaCard",props:{checkId:{type:[String,Number],required:!0},check:{type:Object,required:!0}},setup(r){const t=r,l=h(()=>{switch(t.check._passedStatus){case"failed":return"text-red-500";case"passed":return"text-green-500";case"detail":return"text-blue-500";case"warning":return"text-orange-500";default:return""}});return(n,o)=>(e(),a("div",F,[s("p",Q,y(r.checkId),1),s("div",D,[r.check._message?(e(),a("div",V,[C(" Message: "),s("span",{class:b(l.value)},y(r.check._message),3)])):m("",!0),s("div",B,[C(" Status: "),s("span",{class:b(l.value)},y(r.check._passedStatus),3)])])]))}}),T={key:0,class:"text-sm"},U={key:1,class:"text-sm"},M={key:0},P=k({__name:"QaCategory",props:{categoryId:{type:[String,Number],required:!0},category:{type:Object,required:!0},search:{type:Boolean,required:!0}},setup(r){const t=r,l=_(!0),n=h(()=>{const o=Object.values(t.category).some(c=>c._passedStatus==="failed"),u=Object.values(t.category).some(c=>c._passedStatus==="warning"),d=Object.values(t.category).some(c=>c._passedStatus==="passed");return o?"failed":u?"warning":d?"passed":"unknown"});return(o,u)=>(e(),a("div",null,[s("div",{class:b(["text-md font-semibold px-2 rounded-lg cursor-pointer hover:bg-gray-300",{"text-red-500":n.value==="failed","text-orange-500":n.value==="warning","text-green-500":n.value==="passed"}]),onClick:u[0]||(u[0]=d=>l.value=!l.value)},[!l.value||r.search?(e(),a("span",T,"[-]")):(e(),a("span",U,"[+]")),C(" "+y(r.categoryId),1)],2),!l.value||r.search?(e(),a("div",M,[(e(!0),a(g,null,w(r.category,(d,c)=>(e(),a(g,{key:c},[d?(e(),$(L,{key:0,class:"mt-2 mr-2",checkId:c,check:d},null,8,["checkId","check"])):m("",!0)],64))),128))])):m("",!0)]))}}),W={class:"w-full text-left bg-gray-200 rounded-lg px-2 mb-4"},A={key:0,class:"text-sm font-semibold mb-2"},E={key:0,class:"px-4"},z={class:"flex flex-row mr-4"},G={class:"w-2/3 flex flex-col"},H=s("label",{for:"searchInput"},"Search by check id",-1),J={class:"w-1/3 ml-10 flex flex-col"},K=s("label",{for:"statusFilter"},"Filter by status",-1),R=s("option",{value:"all"},"All",-1),X=s("option",{value:"failed"},"Failed",-1),Y=s("option",{value:"warning"},"Warning",-1),Z=s("option",{value:"passed"},"Passed",-1),ee=[R,X,Y,Z],te=k({__name:"QaDevice",props:{deviceId:{type:[String,Number],required:!0},device:{type:Object,required:!0}},setup(r){const t=r,l=_(""),n=_("all"),o=_(!0),u=h(()=>t.deviceId==="nuc"?t.deviceId.toUpperCase():`Station ${t.deviceId}`),d=h(()=>{let p={};for(const i in t.device)if(i!=="_Timestamp"){const v={};for(const f in t.device[i]){const x=t.device[i][f],S=!l.value||x._id&&x._id.toLowerCase().includes(l.value.toLowerCase()),j=n.value==="all"||x._passedStatus===n.value;S&&j&&(v[f]=x)}Object.keys(v).length>0&&(p[i]=v)}return p}),c=h(()=>{let p=!1,i=!1,v=!1;for(const f in d.value)for(const x in d.value[f]){const S=d.value[f][x];S._passedStatus==="failed"?p=!0:S._passedStatus==="warning"?i=!0:S._passedStatus==="passed"&&(v=!0)}return p?"failed":i?"warning":v?"passed":"unknown"});return(p,i)=>(e(),a("div",W,[s("div",{onClick:i[0]||(i[0]=v=>o.value=!o.value),class:b(["bg-gray-200 cursor-pointer p-2 hover:bg-gray-300 rounded-xl",{"rounded-t-xl":!o.value}])},[s("div",{class:b([{"text-red-500":c.value==="failed","text-orange-500":c.value==="warning","text-green-500":c.value==="passed"},"text-lg font-semibold"])},y(u.value),3),r.device&&r.device._Timestamp?(e(),a("div",A,y(r.device._Timestamp),1)):m("",!0)],2),o.value?m("",!0):(e(),a("div",E,[s("div",z,[s("div",G,[H,I(s("input",{id:"searchInput",type:"text","onUpdate:modelValue":i[1]||(i[1]=v=>l.value=v),placeholder:"Search by check id...",class:"w-full px-4 py-2 my-1 border border-gray-300 rounded-md focus:outline-none focus:border-gray-800"},null,512),[[q,l.value]])]),s("div",J,[K,I(s("select",{id:"statusFilter","onUpdate:modelValue":i[2]||(i[2]=v=>n.value=v),class:"px-4 py-2 my-1 border border-gray-300 rounded-md focus:outline-none focus:border-gray-800"},ee,512),[[N,n.value]])])]),(e(!0),a(g,null,w(d.value,(v,f)=>(e(),a(g,{key:f},[f!=="_Timestamp"?(e(),$(P,{key:0,class:"mr-2",categoryId:f,category:v,search:l.value.length!==0||n.value!=="all"},null,8,["categoryId","category","search"])):m("",!0)],64))),128))]))]))}}),se={class:"w-full text-left bg-gray-200 rounded-lg mb-4 relative"},ae={key:0,class:"absolute -left-0.5 rounded-xl w-1.5 h-full bg-gray-700"},re={class:"text-lg ml-2 font-semibold"},le={key:1,class:"mt-2 px-4"},ne=k({__name:"QaVersion",props:{versionId:{type:[String,Number],required:!0},version:{type:Object,required:!0}},setup(r){const t=_(!0);return(l,n)=>(e(),a("div",se,[t.value?m("",!0):(e(),a("div",ae)),s("div",{onClick:n[0]||(n[0]=o=>t.value=!t.value),class:b(["bg-gray-200 cursor-pointer p-2 hover:bg-gray-300 rounded-xl",{"rounded-t-xl":!t.value}])},[s("h2",re,y(r.versionId),1)],2),t.value?m("",!0):(e(),a("div",le,[(e(!0),a(g,null,w(r.version,(o,u)=>(e(),a(g,{key:u},[o?(e(),$(te,{key:0,class:"mr-2 my-4",deviceId:u,device:o},null,8,["deviceId","device"])):m("",!0)],64))),128))]))]))}}),oe={class:"w-full bg-gray-100 rounded-lg p-4 mb-4"},ue={class:"text-lg font-semibold"},ce={key:0,class:"mt-4 pl-4"},de=k({__name:"QaLab",props:{labName:{type:[String,Number],required:!0},lab:{type:Object,required:!0}},setup(r){const t=_(!0);return(l,n)=>(e(),a("div",oe,[s("div",{onClick:n[0]||(n[0]=o=>t.value=!t.value),class:b(["bg-gray-200 cursor-pointer p-2 hover:bg-gray-300 rounded-xl",{"rounded-t-xl":!t.value}])},[s("h2",ue,y(r.labName),1)],2),t.value?m("",!0):(e(),a("div",ce,[(e(!0),a(g,null,w(r.lab,(o,u)=>(e(),a(g,{key:u},[o?(e(),$(ne,{key:0,class:"mr-2",versionId:u,version:o},null,8,["versionId","version"])):m("",!0)],64))),128))]))]))}}),ie={class:"w-full h-full flex flex-col overflow-hidden p-6"},me=k({__name:"QaData",setup(r){const t=O(),l=_(""),n=h(()=>t.qaData),o=h(()=>{const u=l.value.trim().toLowerCase();return u?Object.fromEntries(Object.entries(n.value||{}).filter(([d])=>d.toLowerCase().includes(u))):n.value});return(u,d)=>(e(),a("div",ie,[I(s("input",{type:"text","onUpdate:modelValue":d[0]||(d[0]=c=>l.value=c),placeholder:"Search by lab name...",class:"w-full px-4 py-2 mb-4 border border-gray-300 rounded-md focus:outline-none focus:border-gray-800"},null,512),[[q,l.value]]),(e(!0),a(g,null,w(o.value,(c,p)=>(e(),$(de,{labName:p,lab:c,key:p},null,8,["labName","lab"]))),128))]))}});export{me as default};
